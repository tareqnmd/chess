#!/usr/bin/env sh

# Pre-push hook
# Runs before pushing to ensure quality code reaches remote

echo "ğŸš€ Running pre-push checks..."

# 1. Run linter on all files
echo "ğŸ” Running ESLint on all files..."
pnpm lint || {
  echo "âŒ ESLint found errors. Please fix them before pushing."
  exit 1
}

# 2. Type check entire project
echo "ğŸ” Type checking entire project..."
pnpm exec tsc --noEmit || {
  echo "âŒ Type errors found. Please fix them before pushing."
  exit 1
}

# 3. Check formatting
echo "ğŸ¨ Checking code formatting..."
pnpm format:check || {
  echo "âŒ Code formatting issues found. Run 'pnpm format' to fix."
  exit 1
}

# 4. Build the project
echo "ğŸ—ï¸  Building project..."
pnpm build || {
  echo "âŒ Build failed. Please fix build errors before pushing."
  exit 1
}

echo "âœ… All pre-push checks passed! Pushing to remote..."

